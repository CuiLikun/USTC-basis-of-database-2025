# USTC-basis-of-database-2025
# 数据库基础实验报告 (Experiments 2-4)

本项目是“数据库基础”课程的一系列实验报告，涵盖了数据库的查询、表创建与管理、数据操作以及存储过程的编写。所有实验均在 Data Studio 环境下完成。


## 项目概述

本仓库包含了三个核心的数据库实验：

1.  **实验二：查询 (Querying)** - 专注于使用 SQL `SELECT` 语句进行数据检索，从无条件查询到复杂的多表连接查询。
2.  **实验三：建表 (Table Creation)** - 涵盖了表的创建 (`CREATE TABLE`)、修改 (`ALTER TABLE`)、索引和视图的建立与删除。
3.  **实验四：数据操作与存储过程 (DML & Stored Procedures)** - 重点是数据的插入 (`INSERT`)、更新 (`UPDATE`)、删除 (`DELETE`)，并包含一个用于计算绩点的存储过程。

## 实验内容详解

### 实验二：查询

本部分通过一系列 SQL 查询，展示了如何从样例数据库中提取信息。

*   **无条件与简单条件查询**: 使用 `SELECT *` 和 `WHERE` 子句进行基础数据检索。
*   **多条件查询**: 结合 `AND`, `LIKE`, `NOT` 等操作符实现复杂条件下的数据筛选。
*   **聚合函数**: 利用 `COUNT()`, `SUM()`, `MAX()`, `MIN()`, `AVG()` 等函数进行统计分析，并使用 `GROUP BY` 进行分组。
*   **排序**: 使用 `ORDER BY` 对查询结果进行升序或降序排列。
*   **连接查询**: 通过 `JOIN` 或嵌套查询的方式，实现跨多个表的关联数据查询。

### 实验三：建表与视图

这部分演示了如何定义和管理数据库对象。

*   **创建与修改表**: 使用 `CREATE TABLE` 命令初始化表结构，并通过 `ALTER TABLE` 添加新列。
*   **数据插入**: 使用 `INSERT INTO` 语句向表中填充数据。
*   **创建索引**: 为提高查询性能，使用 `CREATE INDEX` 对指定列建立索引。
*   **创建视图**: 使用 `CREATE VIEW` 创建一个基于查询结果的虚拟表，以简化复杂查询和增强数据安全性。
*   **删除对象**: 使用 `DROP TABLE`, `DROP VIEW`, `DROP INDEX` 命令删除相应的数据库对象。

### 实验四：插入、删除、更新与存储过程

本实验关注数据操作语言 (DML) 和高级数据库编程。

*   **数据操作**:
    *   `INSERT`: 向表中添加新的数据行。
    *   `DELETE`: 根据条件删除表中的特定元组。
    *   `UPDATE`: 修改表中现有数据，例如批量调整价格或更新特定记录。
*   **存储过程**:
    *   创建了一个名为 `PB23071377` 的存储过程。
    *   **功能**: 该过程接收一个百分制成绩作为输入，并根据预设的成绩对照表，返回对应的 GPA 绩点和等级成绩。
    *   **输入**: `@input_grade` (百分制成绩)
    *   **输出**: `@out_jd` (绩点), `@out_djcj` (等级成绩)
    *   **错误处理**: 如果输入的成绩不在 0-100 的有效范围内，过程将返回 -1。

## 如何使用

1.  **环境准备**: 确保您拥有一个支持 SQL 的数据库环境，例如 Data Studio。
2.  **执行脚本**:
    *   **实验二** 的代码可以直接在拥有 `authors`, `titles`, `sales` 等样例表的数据库中执行。
    *   **实验三和实验四** 的代码是自包含的，按照文件中的顺序执行即可创建表、插入数据并进行后续操作。
    *   存储过程 `PB23071377` 的创建和执行部分需要分开运行。请先执行 `CREATE PROCEDURE` 部分，成功后再执行调用该过程的 `EXECUTE` 部分。
